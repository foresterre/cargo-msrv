<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>cargo-msrv - The cargo-msrv Book ðŸ¦€</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../getting-started/index.html"><strong aria-hidden="true">2.</strong> Getting started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../getting-started/installation.html"><strong aria-hidden="true">2.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="../getting-started/quick-start.html"><strong aria-hidden="true">2.2.</strong> Quick Start</a></li></ol></li><li class="chapter-item expanded "><a href="../concepts/index.html"><strong aria-hidden="true">3.</strong> Concepts</a></li><li class="chapter-item expanded "><a href="../commands/index.html"><strong aria-hidden="true">4.</strong> Cargo-msrv Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../commands/find.html" class="active"><strong aria-hidden="true">4.1.</strong> cargo-msrv</a></li><li class="chapter-item expanded "><a href="../commands/help.html"><strong aria-hidden="true">4.2.</strong> cargo-msrv help</a></li><li class="chapter-item expanded "><a href="../commands/list.html"><strong aria-hidden="true">4.3.</strong> cargo-msrv list</a></li><li class="chapter-item expanded "><a href="../commands/show.html"><strong aria-hidden="true">4.4.</strong> cargo-msrv show</a></li><li class="chapter-item expanded "><a href="../commands/verify.html"><strong aria-hidden="true">4.5.</strong> cargo-msrv verify</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The cargo-msrv Book ðŸ¦€</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/foresterre/cargo-msrv" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="cargo-msrv"><a class="header" href="#cargo-msrv">cargo-msrv</a></h1>
<h1 id="command"><a class="header" href="#command">COMMAND</a></h1>
<ul>
<li>Standalone: <code>cargo-msrv [options]</code></li>
<li>Through Cargo: <code>cargo msrv [options]</code></li>
</ul>
<h2 id="description"><a class="header" href="#description">DESCRIPTION</a></h2>
<p>Find the MSRV for your project.</p>
<p>This command will test your project by running various Rust toolchains against your project. The order in which these
toolchains will be tested, and the amount of tests ran, depends on the search strategy, the amount of toolchains
available and of course the limiting factor of the project which will determine the MSRV. We usually call each test a
cargo-msrv <em>check</em>. By default, the check command, the command used to test whether toolchain passes or fails a check,
is <code>cargo check --all</code>.</p>
<p>There are currently two search strategies: <em>linear</em> (default) and <em>bisect</em>. Linear tests projects against toolchains in a
most-recent to least-recent order. When a check fails, the previous Rust (if any) version is returned as the MSRV (i.e. the highest still
toolchain for which a check command passes). Bisect tests projects using a binary search. This can be significantly faster,
so it's usually advisable to enable it by default. </p>
<h3 id="why-run-against-complete-toolchains"><a class="header" href="#why-run-against-complete-toolchains">Why run against complete toolchains?</a></h3>
<p>Running against a complete toolchain may seem like a lot of wasted computing power. Why not run against just the AST, and
(conditionally) tag each AST node with a supported from version (or query it, as library functions already have an 'available
from' Rust version)? </p>
<p>Earlier we developed a prototype to do exactly this, and we may still add it as an optional strategy in the future, however
we found that the selection of the MSRV of a toolchain is not just limited by the source code itself. External factors
such as Rust editions or knobs in the Cargo manifest also impact the MSRV for a crate. As such, the running a complete
toolchain helps us to be more precise<sup>1</sup>.</p>
<h3 id="future-work"><a class="header" href="#future-work">Future work</a></h3>
<p><em>1. Currently, the 'Find your MSRV' action is defined at as the top-level <code>cargo-msrv</code> command. We hope to move it to its own subcommand
in the near future, e.g. <code>cargo-msrv find</code> (subcommand name subject to change).</em></p>
<p><em>2. We want to eventually add a combination-of-strategies strategy which can combine result of other strategies to come
to a possibly more precise definition.</em></p>
<p><em>3. If you come up with a strategy which will add value to cargo-msrv, feel free to contribute the idea, or even an
implementation. If you don't know where to start, create a new issue, we're happy to help!</em> </p>
<h2 id="options"><a class="header" href="#options">OPTIONS</a></h2>
<p><strong><code>--bisect</code></strong></p>
<p>Use a binary search to find the MSRV. This is usually faster than using a linear search.
The binary search strategy is the default since <code>cargo-msrv v0.14.0</code>.</p>
<p><strong><code>--linear</code></strong></p>
<p>Use a linear search to find the MSRV, by checking toolchains from latest to earliest.
The linear search strategy was the default prior to <code>cargo-msrv v0.14.0</code>.</p>
<p><strong><code>-h, --help</code></strong></p>
<p>Prints help information</p>
<p><strong><code>--include-all-patch-releases</code></strong></p>
<p>Include all patch releases, instead of only the last. By default, after the list of Rust releases has been fetched, we<br />
only keep the highest minor version for each Rust release. Say the list of Rust releases would be <code>[&quot;1.31.1&quot;, &quot;1.31.0&quot;, &quot;1.30.0]</code>,
then we discard Rust <code>1.31.0</code>, as you would usually not depend on the non-bugfixed compiler releases, and the patch version
does not contain new features, thus no features to impact the MSRV. When you provide this flag however, these additional
patch versions will be included in the search space.</p>
<p><strong><code>--ignore-lockfile</code></strong></p>
<p>Temporarily (re)moves the lockfile, so it will not interfere with the building process. This is important when
testing against Rust versions prior to 1.38.0, for which Cargo does not recognize the new v2 lockfile (<code>Cargo.lock</code>),
or some crates which use the even newer v3 lockfile. </p>
<p><strong><code>--log-level</code> level</strong></p>
<p>Specify the severity of debug logs which the program will write to the log output.
Possible values are: <code>error</code>, <code>warn</code>, <code>info</code> (default), <code>debug</code> and <code>trace</code>. 
Lower severities include messages of higher severities.
When <code>--no-log</code> is present, this option will be ignored.</p>
<p><strong><code>--log-target</code> log_target</strong></p>
<p>Specify where cargo-msrv should output its debug logs.
Possible values are <code>file</code> (default) and <code>stdout</code>.
The log output of <code>stdout</code> may interfere with user output. We would suggest to use <code>--output-format void</code> in tandem
with <code>--log-target stdout</code>.
When <code>--no-log</code> is present, this option will be ignored.</p>
<p><strong><code>--max</code> version</strong></p>
<p>Latest (most recent) version to take into account. The version must match a valid three component Rust toolchain version, 
and be semver compatible. An example of an acceptable versions is &quot;1.35.0&quot;, while &quot;1.35&quot;, &quot;^1.35.0&quot; and &quot;1.35.0-beta&quot; are not valid.</p>
<p><strong><code>--min</code> version</strong></p>
<p>Earliest (least recent) version to take into account. The version must match a valid three component Rust toolchain version,
and be semver compatible. Edition aliases may also be used. An example of an acceptable versions is &quot;1.35.0&quot;, while
&quot;1.35&quot;, &quot;^1.35.0&quot; and &quot;1.35.0-beta&quot; are not valid. Editions map to the first version in which they were introduced, so
for example &quot;1.56.0&quot; for edition &quot;2018&quot;.</p>
<p><strong><code>--no-check-feedback</code></strong></p>
<p>If provided, the outcome of individual checks will not be printed. These prints provide feedback, about the order in which
checks ran, and their results. This is especially useful if you want to know why a certain Rust version was deemed to be
incompatible, for example, so you can identify Rust features which require a certain minimum Rust version.</p>
<p><strong><code>--no-log</code></strong></p>
<p>Do not write debug log output to the log target.</p>
<p><strong><code>--no-read-min-edition</code></strong></p>
<p>If provided, the 'package.edition' value in the Cargo.toml will not be used to reduce search space.
By default, the edition is read from the <code>Cargo.toml</code> file and used as the minimum Rust version. See also <code>--min</code>.</p>
<p><strong><code>--output-format</code> format</strong></p>
<p>Output status messages in machine-readable format. Machine-readable status updates will be printed in the requested format to stdout.
Accepted formats are &quot;json&quot; and &quot;void&quot;. In case of &quot;json&quot;, JSON output will be written; and in case of &quot;void&quot;, no output
will be written. If this option is absent, a human-readable output format will be shown.</p>
<p><strong><code>--release-source</code> source</strong></p>
<p>Select the rust-releases source to use as the release index. Available options are <code>rust-changelog</code> and <code>rust-dist</code>.
The first will parse the Rust changelog file to determine which Rust releases have been made, while the second will index
the Rust S3 distribution bucket.</p>
<p><strong><code>--path</code> directory-path</strong></p>
<p>Path to the cargo project directory. This directory should contain a Cargo manifest (i.e. <code>Cargo.toml</code>) file. The given
path should end in the Cargo manifest file. A valid path would be <code>/home/user/project</code>. A path like <code>/home/user/project/Cargo.toml</code>
is incorrect.</p>
<p><strong><code>--target</code> target</strong></p>
<p>Supply a custom target triplet to use as Rust distribution. If absent, the rustup default toolchain is used.</p>
<p><strong><code>--toolchain-file</code></strong></p>
<p>Output a rust-toolchain file with the determined MSRV as toolchain. The toolchain file will pin the Rust version for this crate. 
See <a href="https://rust-lang.github.io/rustup/overrides.html#the-toolchain-file">here</a> for more about the toolchain-file.</p>
<p><strong><code>-V, --version</code></strong></p>
<p>Prints cargo-msrv version information</p>
<p><strong><code>--verify</code> (DEPRECATED)</strong></p>
<p>Verify the MSRV specified by a crate author in the 'package.rust-version' or the 'package.metadata.msrv' key, in the
Cargo manifest <code>Cargo.toml</code>. When this flag is present, cargo-msrv will not attempt to determine the true MSRV. 
Instead, it only attempts to verify whether for the specified MSRV, the <em>cargo-msrv check</em> command passes.</p>
<p><em>DEPRECATED: use <code>cargo msrv verify</code> instead</em></p>
<p><strong><code>--</code> ...cmd</strong> </p>
<p>When provided, the trailing command (<code>cmd</code>) will be used as the <em>cargo-msrv check</em> command, instead of the default
<code>cargo check --all</code>. This <code>cmd</code> must be runnable by <code>rustup</code> through <code>rustup run &lt;toolchain&gt; &lt;cmd&gt;</code>.</p>
<h2 id="examples"><a class="header" href="#examples">EXAMPLES</a></h2>
<ol>
<li>Try to determine the MSRV for the crate in your current working directory, using the binary search strategy.</li>
</ol>
<pre><code class="language-shell">cargo msrv --bisect
</code></pre>
<p>or (from cargo-msrv <code>v0.14.0</code>, <code>bisect</code> is the default search method):</p>
<pre><code class="language-shell">cargo msrv
</code></pre>
<ol start="2">
<li>Try to determine the MSRV for the crate in your current working directory, using the linear search strategy.</li>
</ol>
<pre><code class="language-shell">cargo msrv --linear
</code></pre>
<p>NB: Prior to cargo-msrv <code>v0.14.0</code>, <code>linear</code> was the default search strategy, and no flag was available explicitly
use this search strategy.</p>
<ol start="3">
<li>Try to determine the MSRV for the crate in your current working directory, using a custom cargo-msrv check command:
<code>cargo test</code>.</li>
</ol>
<pre><code class="language-shell">cargo msrv -- cargo test
</code></pre>
<ol start="4">
<li>Try to determine the MSRV for the crate in your current working directory, but use the JSON machine-readable output
format.</li>
</ol>
<pre><code class="language-shell">cargo msrv --output-format json
</code></pre>
<h2 id="footnotes"><a class="header" href="#footnotes">FOOTNOTES</a></h2>
<p><sup>1</sup> Precision is of course a debatable concept. In this case we note that &quot;a toolchain must be able
to pass the cargo-msrv check command for a crate&quot; (in its broadest sense).</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../commands/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../commands/help.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../commands/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../commands/help.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
