<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>v0.15 to v0.16 - The cargo-msrv Book ðŸ¦€</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../getting-started/index.html"><strong aria-hidden="true">2.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../getting-started/installation.html"><strong aria-hidden="true">2.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="../getting-started/quick-start.html"><strong aria-hidden="true">2.2.</strong> Quick Start</a></li></ol></li><li class="chapter-item expanded "><a href="../releases/index.html"><strong aria-hidden="true">3.</strong> Migration Guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../releases/v0.15_v0.16_highlights.html" class="active"><strong aria-hidden="true">3.1.</strong> v0.15 to v0.16</a></li><li class="chapter-item expanded "><a href="../releases/v0.15_v0.16_json.html"><strong aria-hidden="true">3.2.</strong> v0.15 to v0.16 JSON</a></li></ol></li><li class="chapter-item expanded "><a href="../concepts/index.html"><strong aria-hidden="true">4.</strong> Concepts</a></li><li class="chapter-item expanded "><a href="../output-formats/index.html"><strong aria-hidden="true">5.</strong> Output Formats</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../output-formats/human.html"><strong aria-hidden="true">5.1.</strong> human</a></li><li class="chapter-item expanded "><a href="../output-formats/json.html"><strong aria-hidden="true">5.2.</strong> json</a></li><li class="chapter-item expanded "><a href="../output-formats/minimal.html"><strong aria-hidden="true">5.3.</strong> minimal</a></li><li class="chapter-item expanded "><a href="../output-formats/no-user-output.html"><strong aria-hidden="true">5.4.</strong> no-user-output</a></li></ol></li><li class="chapter-item expanded "><a href="../commands/index.html"><strong aria-hidden="true">6.</strong> Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../commands/find.html"><strong aria-hidden="true">6.1.</strong> cargo-msrv find</a></li><li class="chapter-item expanded "><a href="../commands/help.html"><strong aria-hidden="true">6.2.</strong> cargo-msrv help</a></li><li class="chapter-item expanded "><a href="../commands/list.html"><strong aria-hidden="true">6.3.</strong> cargo-msrv list</a></li><li class="chapter-item expanded "><a href="../commands/set.html"><strong aria-hidden="true">6.4.</strong> cargo-msrv set</a></li><li class="chapter-item expanded "><a href="../commands/show.html"><strong aria-hidden="true">6.5.</strong> cargo-msrv show</a></li><li class="chapter-item expanded "><a href="../commands/verify.html"><strong aria-hidden="true">6.6.</strong> cargo-msrv verify</a></li></ol></li><li class="chapter-item expanded "><a href="../ci/index.html"><strong aria-hidden="true">7.</strong> Verification in CI</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ci/gitlab.html"><strong aria-hidden="true">7.1.</strong> GitLab</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The cargo-msrv Book ðŸ¦€</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/foresterre/cargo-msrv" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="0160---a-few-release-highlights"><a class="header" href="#0160---a-few-release-highlights">0.16.0 - A few release highlights</a></h1>
<p>A quick tour through some <code>cargo msrv 0.16.0</code> highlights.</p>
<h2 id="the-noticeable-one---cargo-msrv-find"><a class="header" href="#the-noticeable-one---cargo-msrv-find">The noticeable one - cargo msrv find</a></h2>
<p>The tagline of <code>cargo-msrv</code> is &quot;Find the minimum supported Rust version (MSRV) for your project&quot;.
Previously, one could achieve this by running <code>cargo msrv</code>. If you want to do the same in 0.16, you instead
should run <code>cargo msrv find</code>. The top level  <code>cargo msrv</code> action is no more.</p>
<p>There are two primary reasons to move this action to a subcommand instead of keeping it at the top level:</p>
<ol>
<li>Consistency: <code>cargo msrv</code> can do more than that tagline, and placing all actions on the subcommand level signals that
they're equals.</li>
<li>Unsupported CLI flags and options: When actions are placed on two layers, and one of these layers is below the other,
then the bottom layer inherits its flags and options, even though they do not always overlap. For example, the set of
CLI flags and options of <code>cargo msrv find</code> and <code>cargo msrv list</code> are not identical. <code>cargo msrv find</code> for example has
an option called <code>--release-source</code> which should be present for <code>cargo msrv find</code> but not for <code>cargo msrv list</code>. If
<code>cargo msrv find</code> would still be run as <code>cargo msrv</code>, you could also invoke this option for <code>cargo msrv list</code>, like
so: <code>cargo msrv --release-source rust-dist list</code>. However, contextually, the <code>--release-source</code> option does not make
sense for <code>cargo msrv list</code>, so previously it was ignored. By making <code>cargo msrv find</code> a subcommand like
<code>cargo msrv list</code>, the flags and options which are not shared between all actions can be put solely below their own
subcommand.</li>
</ol>
<p>A consequence of (2) is that some unnecessary options and flags have been removed from the top level, and so this is a
breaking change, not just for <code>cargo msrv find</code> but also for <code>cargo msrv list</code>.</p>
<p>Minor reasons for this change include that I can now talk about <code>cargo msrv find</code> as &quot;<code>cargo msrv find</code>&quot; instead of
<code>cargo msrv (find)</code> or &quot;the top level command&quot;. Plus, it addressed some difficulties around the code which does CLI
parsing.</p>
<h2 id="the-ui-part-1-output-format-options"><a class="header" href="#the-ui-part-1-output-format-options">The UI part 1: output format options</a></h2>
<p>The way the UI is rendered has been updated. Internally, it is now easier to add and maintain different output formats.</p>
<p><code>cargo-msrv</code> now supports 3 output formats:</p>
<ul>
<li>human (the default one, intended for the human eye)</li>
<li>json (intended for machine readability)</li>
<li>minimal (*new*, it was requested for environments where people only care about success/failure, such as CI)</li>
</ul>
<h2 id="the-ui-part-2-cargo-msrv-find-and-verify-human-output"><a class="header" href="#the-ui-part-2-cargo-msrv-find-and-verify-human-output">The UI part 2: <code>cargo msrv find</code> and <code>verify</code> &quot;human&quot; output</a></h2>
<p>As they say, &quot;a picture is a thousand words&quot;:</p>
<p><strong>Previously...</strong></p>
<p><a href="https://asciinema.org/a/465459"><img src="https://asciinema.org/a/465459.svg" alt="asciicast" /></a></p>
<p><strong>New...</strong></p>
<p><a href="https://asciinema.org/a/JGyYmk7LNJvfDrc2oMQEt0SFF"><img src="https://asciinema.org/a/JGyYmk7LNJvfDrc2oMQEt0SFF.svg" alt="asciicast" /></a></p>
<p>I'll be iterating the UI further in the future. Constructive feedback is more than welcome!</p>
<h2 id="cargo-msrv-find---write-msrv"><a class="header" href="#cargo-msrv-find---write-msrv"><code>cargo msrv find --write-msrv</code></a></h2>
<p>This option will write the MSRV to your Cargo manifest:</p>
<p><a href="https://asciinema.org/a/679863?t=47"><img src="https://asciinema.org/a/679863.svg" alt="asciicast" /></a></p>
<h2 id="cargo-msrv-find---min-and---max"><a class="header" href="#cargo-msrv-find---min-and---max"><code>cargo msrv find --min</code> and <code>--max</code></a></h2>
<p>The <code>--min</code> and <code>--max</code> options would previously only take three component semver versions like &quot;1.2.3&quot; or editions. It
is common to specify the MSRV in a two component version like &quot;1.2&quot;, so these are now also supported.</p>
<h2 id="cargo-msrv-verify---rust-version"><a class="header" href="#cargo-msrv-verify---rust-version"><code>cargo msrv verify --rust-version</code></a></h2>
<p><code>cargo msrv verify</code> can be used to check whether your project is compatible with its MSRV. The MSRV is usually read from
the Cargo manifest (<code>Cargo.toml</code>). Sometimes it can be useful to provide it manually instead. That's where this option
comes in handy.</p>
<p>It should be noted that <code>cargo-msrv</code> does, at present, not unset any value you may have specified in the
Cargo manifest. So if you have a Cargo manifest with <code>rust-version = &quot;1.56.0&quot;</code> and supply the <code>--rust-version</code> option
with the value <code>1.55.0</code>, the cargo project will (if the default options are used) fail to compile, and as a consequence
<code>cargo-msrv</code> will report that your crate is not compatible with the specified MSRV.</p>
<h2 id="fetching-the-rust-releases-index"><a class="header" href="#fetching-the-rust-releases-index">Fetching the rust releases index</a></h2>
<p>The rust releases index, the thing we use to figure out which Rust versions exist, are now only fetched when a
subcommand needs it (currently <code>cargo msrv find</code> and <code>cargo msrv verify</code>).</p>
<h2 id="the-changelog"><a class="header" href="#the-changelog">The changelog</a></h2>
<p>The complete changelog can be found <a href="https://github.com/foresterre/cargo-msrv/blob/main/CHANGELOG.md">here</a>.</p>
<h2 id="thanks"><a class="header" href="#thanks">Thanks!</a></h2>
<p>Thanks to all contributors, whether you submitted a <a href="https://github.com/foresterre/cargo-msrv/pulls">PR</a> or reported
an <a href="https://github.com/foresterre/cargo-msrv/issues">issue</a>. Some reported issues and PR's really made my day! ðŸ’›</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../releases/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../releases/v0.15_v0.16_json.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../releases/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../releases/v0.15_v0.16_json.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
